 /*
  * Khalifa Mohamed
  * Groupe 1231 F
  * working parser for +,-,*,/,^ operations
  */
 
 start
-  = firstAction
+  = (firstAction)*
 
 // séparation $$ de notre expression 
 firstAction
    =left:secondAction " " right:pct {return left}
 
 // separation de variable de l'expression attribue
 secondAction
    = left:string " = " right:additive { return left+' are valoarea de '+right }
 
 // fontion de somme
 additive
   = left:subtraction "+" right:additive { return left + right; }
   / subtraction
 
 //fonction de soustraction
 subtraction
   = left:exponential "-" right:subtraction { return left - right; }
   / exponential
 
 // fonction de la puissance
 exponential
   = left:division "^" right:exponential {return Math.pow(left,right)}
   / division
 
 // fonction de raport
 division 
   = left:multiplicative "/" right:division {return left/right}
   / multiplicative
 
 // fonction de multiplication
 multiplicative
   = left:primary "*" right:multiplicative { return left * right; }
   / primary
 
 //la priorité des choses entre parenthèses
 primary
   = integer
   / "(" additive:additive ")" { return additive; }
 
 //les valeurs entières
 integer "integer"
   = (digits:[0-9]+) { return parseInt(digits.join(""), 10); }
 
 //valeurs de chaîne
 string "string"
   = variable:([a-zA-Z]+) { return variable.join(""); }
 
 //signe $$
 pct
-  = final:[$][$] { return final }
+  = final:[$][$]"\n" { return final }
